extends base
include mixins/videos

block content 
    block header 
    form(action="/search", method="GET")
        input(type="text", placeholder="Search", name="search")
    ul 
        if !login
            li 
                a(href="/users/login") login 
            li
                a(href="/users/sign") sign
        else 
            li 
                a(href="/users/logout") LogOut
            li 
                a(href="/videos/upload") Upload
            li 
                a(href="/videos/my-videos") My Videos
            li 
                a(href="/videos/watch-recode") Watch Recode

    if videos
        each video in videos
            - let user = userId
            - let id = video._id
            - let thumbnail = video.thumbnail
            - views = video.views == 1 ? `${video.views} view` : `${video.views} views`;
            a(href=`/videos/watch/${id}`)
                img(src=`upload/thumbnail/${thumbnail}`)
                br
                span=video.title
            br
            span=views
            +video(video) 